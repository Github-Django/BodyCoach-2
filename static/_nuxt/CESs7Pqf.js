import{d as A,r as V,bN as w,o as x,c as D,b as o,w as m,a as r,f as y,g as e,e as M,k as F,l as Q,q as L}from"./BcqZkZus.js";import{_ as k}from"./DrX4eq2Y.js";import{u as $}from"./B3yxynLy.js";import{z as u,u as z,F as E,t as C}from"./D-uu3znW.js";/* empty css        */const O={class:"max-w-lg"},G={class:"grid grid-cols-12 gap-4"},P={class:"col-span-12 sm:col-span-6"},j={class:"col-span-12 sm:col-span-6"},q={class:"col-span-12"},H={class:"col-span-12"},X={class:"col-span-12"},te=A({__name:"validation",setup(J){const _={FIRSTNAME_REQUIRED:"نام نمی‌تواند خالی باشد",LASTNAME_REQUIRED:"نام خانوادگی نمی‌تواند خالی باشد",EMAIL_REQUIRED:"لطفاً یک آدرس ایمیل معتبر وارد کنید",MESSAGE_REQUIRED:"پیام نمی‌تواند خالی باشد"},h=u.object({firstName:u.string().min(1,_.FIRSTNAME_REQUIRED),lastName:u.string().min(1,_.LASTNAME_REQUIRED),email:u.string().email(_.EMAIL_REQUIRED),message:u.string().min(1,_.MESSAGE_REQUIRED)}),b=C(h),g={firstName:"",lastName:"",email:"",message:""},{handleSubmit:R,isSubmitting:n,setFieldError:T,meta:B,values:K,errors:W,resetForm:N,setFieldValue:Y,setErrors:Z}=z({validationSchema:b,initialValues:g}),p=V(!1);w(()=>{if(B.value.dirty)return confirm("تغییرات ذخیره نشده دارید. آیا مطمئنید که می‌خواهید ترک کنید؟")});const f=$(),v=R(async i=>{p.value=!1,console.log("message-send-success",i);try{await new Promise((d,c)=>{i.firstName==="Hanzo"&&setTimeout(()=>c(new Error("خطای اعتبارسنجی جعلی در بک‌اند")),2e3),setTimeout(d,4e3)}),f.clearAll(),f.show({title:"موفقیت",message:"پیام ارسال گردید!",color:"success",icon:"ph:check",closable:!0})}catch(d){d.message==="خطای اعتبارسنجی جعلی در بک‌اند"&&(T("firstName","این نام مجاز نیست"),document.documentElement.scrollTo({top:0,behavior:"smooth"}),f.clearAll(),f.show({title:"Oops!",message:"لطفاً خطاهای فرم را بررسی کنید",color:"danger",icon:"lucide:alert-triangle",closable:!0}));return}N(),document.documentElement.scrollTo({top:0,behavior:"smooth"}),p.value=!0,setTimeout(()=>{p.value=!1},3e3)},i=>{p.value=!1,console.log("message-send-error",i),document.documentElement.scrollTo({top:0,behavior:"smooth"})});return(i,d)=>{const c=F,S=k,U=Q,I=L;return x(),D("div",O,[o(I,{class:"p-6"},{default:m(()=>[r("form",{action:"",method:"POST",novalidate:"",onSubmit:d[0]||(d[0]=y((...a)=>e(v)&&e(v)(...a),["prevent"]))},[r("div",G,[r("div",P,[o(e(E),{name:"firstName"},{default:m(({field:a,errorMessage:s,handleChange:l,handleBlur:t})=>[o(c,{label:"نام",placeholder:"مثال: جان","model-value":a.value,error:s,disabled:e(n),type:"text","onUpdate:modelValue":l,onBlur:t},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),r("div",j,[o(e(E),{name:"lastName"},{default:m(({field:a,errorMessage:s,handleChange:l,handleBlur:t})=>[o(c,{label:"نام خانوادگی",placeholder:"ex: Doe","model-value":a.value,error:s,disabled:e(n),type:"text","onUpdate:modelValue":l,onBlur:t},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),r("div",q,[o(e(E),{name:"email"},{default:m(({field:a,errorMessage:s,handleChange:l,handleBlur:t})=>[o(c,{type:"email",label:"آدرس ایمیل",placeholder:"ex: ghasem@eltheme.ir","model-value":a.value,error:s,disabled:e(n),"onUpdate:modelValue":l,onBlur:t},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),r("div",H,[o(e(E),{name:"message"},{default:m(({field:a,errorMessage:s,handleChange:l,handleBlur:t})=>[o(S,{label:"پیام",placeholder:"پیام خود را بنویسید...","model-value":a.value,error:s,disabled:e(n),"onUpdate:modelValue":l,onBlur:t},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),r("div",X,[o(U,{type:"submit",class:"w-full",color:"primary",disabled:e(n),loading:e(n)},{default:m(()=>[M(" ارسال پیام ")]),_:1},8,["disabled","loading"])])])],32)]),_:1})])}}});export{te as default};
