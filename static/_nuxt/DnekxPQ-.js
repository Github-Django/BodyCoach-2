import{_ as N}from"./MwqgXw5F.js";import{d as S,bw as z,r as T,o as r,c as m,b as _,a as t,N as c,g as e,Y as v,I as b,J as g,f as h,bK as $,t as j}from"./BcqZkZus.js";import{u as C}from"./B3yxynLy.js";import{p as B}from"./D1C97CFX.js";/* empty css        */const P={class:"dark:bg-muted-900 min-h-screen bg-white"},A={class:"w-full pb-20 pt-32"},D={class:"mx-auto w-full max-w-6xl px-4"},I={class:"grid w-full gap-10 md:grid-cols-12"},M={class:"xs:w-full xs:max-w-xs xs:mx-auto flex flex-col gap-4 md:flex-row"},V={class:"xs:max-w-xs xs:mx-auto relative flex justify-between gap-7 md:flex-col"},H=t("div",{class:"xs:top-1.5 xs:inset-x-0 bg-muted-200 dark:bg-muted-700 absolute start-2 top-2 z-0 mx-auto h-1 w-[calc(100%_-_1rem)] md:h-[calc(100%_-_1rem)] md:w-1 ltr:md:-translate-x-1/2 rtl:md:translate-x-1/2"},null,-1),J={class:"relative flex justify-center gap-7 md:flex-col md:justify-between"},K=["onClick"],Q=S({__name:"invite",setup(L){z({titleTemplate:s=>`${s} | دعوت - گام ${i.value+1}`});const w=T({firstName:"",lastName:"",email:"",role:null}),d=C(),{handleSubmit:u,currentStepId:i,goToStep:y,progress:p,complete:f,steps:x}=B({initialState:w,steps:[{to:"/layouts/invite",meta:{name:"دعوت از طریق ایمیل",title:"چه کسی را می‌خواهید دعوت کنید؟",subtitle:"نام شخصی را که می‌خواهید به سازمان خود دعوت کنید وارد کنید"},async validate({data:s,setFieldError:a,resetFieldError:l}){l(["email","firstName","lastName"]),s.value.email||a("email","آدرس ایمیل کاربر را وارد کنید"),s.value.firstName||a("firstName","نام کاربر را وارد کنید"),s.value.lastName||a("lastName","نام خانوادگی کاربر را وارد کنید")}},{to:"/layouts/invite/permissions",meta:{name:"مجوزها",title:"یک نقش به آن‌ها اختصاص دهید",subtitle:"نقش یک عضو تیم تعیین می‌کند که چه چیزی می‌تواند ببیند و چه کاری می‌تواند در حساب سازمان تایرو شما انجام دهد"},async validate({data:s,setFieldError:a,resetFieldError:l}){l(["role"]),s.value.role||a("role","شما باید یک نقش انتخاب کنید")}},{to:"/layouts/invite/review",meta:{name:"بازبینی",title:"یک نگاه آخر",subtitle:"قبل از ارسال دعوت، مطمئن شوید که همه چیز در فرآیند درست است"}}],onSubmit:async(s,a)=>{await new Promise(l=>setTimeout(l,4e3)),d.clearAll(),d.show({title:"موفقیت",message:"دعوت‌نامه ارسال شد!",color:"success",icon:"ph:check",closable:!0})},onError:s=>{d.clearAll(),d.show({title:"خطا",message:s.message,color:"danger",icon:"lucide:alert-triangle",closable:!0})}});return(s,a)=>{const l=N,k=$;return r(),m("div",P,[_(l,{title:"دعوت","close-to":"/layouts/members"}),t("div",A,[t("div",D,[t("div",I,[t("div",{class:c(e(f)?"hidden":"md:col-span-3 lg:col-span-4")},[t("div",M,[t("div",V,[H,t("div",{class:"bg-primary-500 absolute start-2 top-0 z-10 mx-auto hidden w-0.5 rounded-full transition-all duration-300 md:block ltr:-translate-x-1/2 rtl:translate-x-1/2",style:v(`height: ${e(p)}%;`)},null,4),t("div",{class:"bg-primary-500 absolute start-1.5 top-[7px] z-10 h-0.5 rounded-full transition-all duration-300 md:hidden",style:v(`width: calc(${e(p)}% - 0.5rem);`)},null,4),(r(!0),m(b,null,g(e(x),(o,n)=>(r(),m("div",{key:n,class:"bg-muted-200 dark:bg-muted-700 relative z-20 flex size-4 items-center justify-center rounded-full"},[t("span",{class:c(["bg-primary-500 block size-2 rounded-full transition-transform duration-300",e(i)>=n?"scale-1":"scale-0"])},null,2)]))),128))]),t("div",J,[(r(!0),m(b,null,g(e(x),(o,n)=>(r(),m("a",{key:n,class:c(["h-4 leading-none",[e(i)===n?"":"xs:hidden",e(i)>o.id?"nui-link":"cursor-default"]]),role:"button",tabindex:0,onClick:h(O=>e(i)>o.id?e(y)(o):()=>{},["prevent"])},[t("span",{class:c(["font-heading block text-xs",e(i)===n?"text-muted-800 dark:text-muted-100":"text-muted-400 dark:text-muted-500"])},j(o.meta.name),3)],10,K))),128))])])],2),t("div",{class:c(e(f)?"col-span-12":"md:col-span-9 lg:col-span-8")},[t("form",{action:"",method:"POST",novalidate:"",onSubmit:a[0]||(a[0]=h((...o)=>e(u)&&e(u)(...o),["prevent"]))},[_(k)],32)],2)])])])])}}});export{Q as default};
