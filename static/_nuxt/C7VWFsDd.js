import{d as D,E as F,u as R,F as l,r as B,G as E,H as L,o,c,a as e,b as s,w as a,g as r,M,e as $,D as u,I as V,J as A,_ as G,k as H,j as J,t as _,q as K,h as S}from"./BcqZkZus.js";import{_ as T}from"./CXzJjQ9H.js";import{_ as U}from"./CqYuu9sc.js";import{_ as O}from"./llmWmC7p.js";import{u as Q}from"./BEdX5HNL.js";/* empty css        */const W={class:"w-full"},X={class:"space-y-10"},Y={class:"w-full"},Z={class:"mb-5 flex items-center gap-4"},ee=e("h3",{class:"font-heading text-muted-800 dark:text-muted-200 text-xl"}," مخاطبین ",-1),te={class:"ms-auto"},se={class:"py-6"},oe={key:1,class:"grid gap-5 md:grid-cols-3"},ae={class:"flex items-center gap-2"},ne={class:"text-muted-500 dark:text-muted-300 font-sans text-sm font-medium leading-none"},ce={class:"text-muted-400 font-sans text-xs"},re={class:"ms-auto"},de={class:"bg-muted-100 dark:bg-muted-900 text-muted-300 dark:text-muted-200 flex size-8 items-center justify-center rounded-full opacity-0 transition-opacity duration-200 group-hover/contact:opacity-100"},ie={class:"py-6"},le={key:1,class:"grid gap-5 md:grid-cols-3"},ue={class:"flex items-center gap-2"},_e={class:"text-muted-500 dark:text-muted-300 font-sans text-sm font-medium leading-none"},me={class:"text-muted-400 font-sans text-xs"},pe={class:"ms-auto"},fe={class:"bg-muted-100 dark:bg-muted-900 text-muted-300 dark:text-muted-200 flex size-8 items-center justify-center rounded-full opacity-0 transition-opacity duration-200 group-hover/contact:opacity-100"},$e=D({__name:"recipients",async setup(he){let d,p;const I=F(),P=R(),q=l(()=>parseInt(I.query.page??"1")),n=B(""),f=B(100);E([n,f],()=>{P.push({query:{page:void 0}})});const C=l(()=>({filter:n.value,perPage:f.value,page:q.value})),{data:h,pending:ge,error:xe,refresh:ye}=([d,p]=L(()=>Q("/api/payments/recipients",{query:C},"$PrAABv6v6K")),d=await d,p(),d),g=l(()=>h?.value?.data.filter(i=>i.type==="person")),x=l(()=>h?.value?.data.filter(i=>i.type==="company"));return(i,y)=>{const m=G,N=T,j=H,v=J,k=U,b=O,z=K,w=S;return o(),c("div",W,[e("div",X,[e("div",Y,[e("div",Z,[s(N,{to:"/layouts/contacts/create",rounded:"full",size:"sm","data-nui-tooltip":"Add recipient"},{default:a(()=>[s(m,{name:"lucide:plus",class:"size-4"})]),_:1}),ee,e("div",te,[s(j,{modelValue:r(n),"onUpdate:modelValue":y[0]||(y[0]=t=>M(n)?n.value=t:null),icon:"lucide:search",rounded:"lg",placeholder:"جستجوی مخاطبان..."},null,8,["modelValue"])])]),e("div",se,[s(v,{size:"sm",weight:"medium",class:"text-muted-400 mb-4 uppercase"},{default:a(()=>[$(" افراد ")]),_:1}),r(g)?.length===0?(o(),u(k,{key:0,title:"تماسی یافت نشد",description:"نتیجه‌ای پیدا نشد. عبارت‌های جستجوی دیگری را امتحان کنید.",transparent:""})):(o(),c("div",oe,[(o(!0),c(V,null,A(r(g),t=>(o(),u(w,{key:t.id,to:`/layouts/recipient/${t.slug}`,class:"group/contact"},{default:a(()=>[s(z,{rounded:"md",shadow:"hover",class:"group-hover/contact:border-primary-500 p-4"},{default:a(()=>[e("div",ae,[s(b,{rounded:"full",size:"sm",src:t.picture,class:"bg-muted-100 dark:bg-muted-700/60"},null,8,["src"]),e("div",null,[e("h5",ne,_(t.name),1),e("p",ce,_(t.category),1)]),e("div",re,[e("div",de,[s(m,{name:"lucide:more-horizontal",class:"size-5"})])])])]),_:2},1024)]),_:2},1032,["to"]))),128))]))]),e("div",ie,[s(v,{size:"sm",weight:"medium",class:"text-muted-400 mb-4 uppercase"},{default:a(()=>[$(" شرکت‌ها ")]),_:1}),r(x)?.length===0?(o(),u(k,{key:0,title:"هیچ مخاطبی برای نمایش وجود ندارد",description:"نتیجه‌ای پیدا نشد. عبارت‌های جستجوی دیگری را امتحان کنید.",transparent:""})):(o(),c("div",le,[(o(!0),c(V,null,A(r(x),t=>(o(),u(w,{key:t.id,to:`/layouts/recipient/${t.slug}`,class:"group/contact"},{default:a(()=>[s(z,{rounded:"md",shadow:"hover",class:"group-hover/contact:border-primary-500 p-4"},{default:a(()=>[e("div",ue,[s(b,{rounded:"full",size:"sm",src:t.picture,class:"bg-muted-100 dark:bg-muted-700/60"},null,8,["src"]),e("div",null,[e("h5",_e,_(t.name),1),e("p",me,_(t.category),1)]),e("div",pe,[e("div",fe,[s(m,{name:"lucide:more-horizontal",class:"size-5"})])])])]),_:2},1024)]),_:2},1032,["to"]))),128))]))])])])])}}});export{$e as default};
