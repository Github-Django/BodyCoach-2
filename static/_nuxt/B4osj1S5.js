import{d as Y,F as z,r as T,G as ee,bN as oe,o as h,c as b,a as e,b as o,w as t,f as A,g as n,M as le,t as te,K as ae,e as _,i as se,j as ne,_ as de,k as ie,m as re,q as ce,l as me}from"./BcqZkZus.js";import{_ as ue}from"./DB4huHT7.js";import{_ as pe}from"./D25SEn8T.js";import{_ as _e}from"./CXzJjQ9H.js";import{_ as ve}from"./CWJHJvz0.js";import{_ as fe}from"./CRxGbTOl.js";import{_ as he}from"./1uyqxF8t.js";import{_ as be}from"./kS1fbhvo.js";import{_ as ge}from"./-96HsBT1.js";import{_ as xe}from"./DrX4eq2Y.js";import{_ as ye}from"./DoCf58K1.js";import{u as Be}from"./B3yxynLy.js";import{z as a,u as Ue,a as Ee,F as u,t as Ve}from"./D-uu3znW.js";/* empty css        */import"./DqI--y4t.js";import"./ChOUEfbg.js";import"./bi14rltw.js";import"./C_HXzHsg.js";import"./C3MAjp-z.js";import"./B3PT0ydx.js";import"./DY2N-qsS.js";import"./BQdoyUYG.js";import"./CYv6XnjC.js";import"./B5PW10KA.js";import"./llmWmC7p.js";import"./CYRu1j5R.js";import"./dOAf7gRO.js";const Ie={class:"mb-4 flex flex-col justify-between md:flex-row md:items-center"},we={class:"ltablet:max-w-full flex max-w-[425px] flex-col items-center gap-4 text-center md:flex-row md:text-start lg:max-w-full"},Re=e("span",null,"شرکت جدید",-1),ke=e("span",{class:"text-muted-500"}," یک رکورد جدید برای شرکت ایجاد کنید ",-1),ze={class:"mt-4 flex items-center justify-center gap-2 md:mt-0 md:justify-start"},Te=e("span",null,"لغو",-1),Ae={rounded:"lg",class:"bg-muted-50 dark:bg-muted-800/60 space-y-8 p-10"},$e={class:"mx-auto flex w-full max-w-[410px] flex-col"},Ce={class:"relative mb-5 flex flex-col items-center justify-center gap-4"},De={class:"relative size-20"},Ne=["src"],Oe=["src"],Se={key:2,class:"absolute bottom-0 end-0 z-20"},je={key:3,class:"absolute bottom-0 end-0 z-20"},Fe={class:"relative","data-nui-tooltip":"تصویر بارگذاری"},Qe={key:0,class:"text-danger-600 inline-block font-sans text-[.8rem]"},Me={class:"grid grid-cols-12 gap-4"},Pe={class:"ltablet:col-span-6 col-span-12 lg:col-span-6"},Ge={class:"ltablet:col-span-6 col-span-12 lg:col-span-6"},Le={class:"col-span-12"},Ze={class:"col-span-12"},He={class:"mb-6 mt-4"},Xe=e("label",{class:"nui-label pb-2 text-[0.825rem]"},"نوع شرکت",-1),qe={class:"ptablet:grid-cols-2 ltablet:grid-cols-3 grid gap-4 lg:grid-cols-3"},Ke={class:"flex w-full flex-col items-center gap-2 text-center"},We=e("div",{class:"child text-muted-300 absolute end-2 top-2 ms-auto"},[e("div",{class:"size-2 rounded-full bg-current"})],-1),Je={class:"flex w-full flex-col items-center gap-2 text-center"},Ye=e("div",{class:"child text-muted-300 absolute end-2 top-2 ms-auto"},[e("div",{class:"size-2 rounded-full bg-current"})],-1),eo={class:"flex w-full flex-col items-center gap-2 text-center"},oo=e("div",{class:"child text-muted-300 absolute end-2 top-2 ms-auto"},[e("div",{class:"size-2 rounded-full bg-current"})],-1),lo={rounded:"lg",class:"w-full space-y-8 p-10"},to={class:"mx-auto w-full max-w-[410px] sm:pt-28"},ao={class:"grid grid-cols-12 gap-4"},so={class:"ltablet:col-span-6 col-span-12 lg:col-span-6"},no=e("option",{value:"",hidden:""},null,-1),io=e("option",{value:"۰ - ۲۵۰ هزار تومان"}," ۰ - ۲۵۰ هزار تومان ",-1),ro=e("option",{value:"۲۵۰ تا ۵۰۰ هزار"}," ۲۵۰ تا ۵۰۰ هزار ",-1),co=e("option",{value:"۵۰۰ هزار - ۱ میلیون تومان"}," ۵۰۰ هزار - ۱ میلیون تومان ",-1),mo=e("option",{value:"۱ میلیون - ۵ میلیون تومان"}," ۱ میلیون - ۵ میلیون تومان ",-1),uo=e("option",{value:"بیش از ۱۰ میلیون"}," بیش از ۱۰ میلیون ",-1),po={class:"ltablet:col-span-6 col-span-12 lg:col-span-6"},_o=e("option",{value:"",hidden:""},null,-1),vo=e("option",{value:"۱-۱۰ کارمند"}," ۱-۱۰ کارمند ",-1),fo=e("option",{value:"۱۰-۵۰ کارمند"}," ۱۰-۵۰ کارمند ",-1),ho=e("option",{value:"۵۰-۱۰۰ کارمند"}," ۵۰-۱۰۰ کارمند ",-1),bo=e("option",{value:"بیش از ۱۰۰ کارمند"}," بیش از ۱۰۰ کارمند ",-1),go={class:"ltablet:col-span-8 col-span-12 lg:col-span-8"},xo={class:"ltablet:col-span-4 col-span-12 lg:col-span-4"},yo=e("option",{value:"",hidden:""},null,-1),Bo=e("option",{value:"active"}," فعال ",-1),Uo=e("option",{value:"inactive"}," غیرفعال ",-1),Eo={class:"col-span-12"},Vo={class:"col-span-12"},Io={class:"mt-5 flex flex-col-reverse text-right md:block md:space-x-3 md:space-x-reverse"},wo=1e6,sl=Y({__name:"form-1",setup(Ro){const $=[{id:1,name:"کلاریسا پرز",text:"مدیر فروش",media:"/img/avatars/19.svg"},{id:2,name:"آرون اسپلاتر",text:"مدیر پروژه",media:"/img/avatars/16.svg"},{id:3,name:"مایک میلر",text:"طراح UI/UX",media:"/img/avatars/3.svg"},{id:4,name:"بندیکت کسلر",text:"توسعه‌دهنده موبایل",media:"/img/avatars/22.svg"},{id:5,name:"مایا روسلینی",text:"مدیر محصول",media:"/img/avatars/2.svg"}],p={NAME_REQUIRED:"نام شرکت نمی‌تواند خالی باشد",EMAIL_REQUIRED:"آدرس ایمیل نمی‌تواند خالی باشد",OPTION_REQUIRED:"لطفاً یک گزینه انتخاب کنید",MANAGER_REQUIRED:"لطفاً یک مدیر انتخاب کنید",STATUS_REQUIRED:"وضعیت را انتخاب کنید",AVATAR_TOO_BIG:"اندازه آواتار باید کمتر از ۱ مگابایت باشد"},C=a.object({avatar:a.custom(c=>c instanceof File).nullable(),company:a.object({name:a.string().min(1,p.NAME_REQUIRED),email:a.string().min(1,p.EMAIL_REQUIRED),type:a.string().optional(),website:a.string().optional(),phone:a.string().optional(),status:a.union([a.literal("active"),a.literal("inactive")]).nullable(),employees:a.union([a.literal("۱-۱۰ کارمند"),a.literal("۱۰-۵۰ کارمند"),a.literal("۵۰-۱۰۰ کارمند"),a.literal("بیش از ۱۰۰ کارمند")]).nullable(),manager:a.object({id:a.number(),name:a.string(),text:a.string(),media:a.string()}).nullable(),income:a.union([a.literal("۰ - ۲۵۰ هزار تومان"),a.literal("۲۵۰ تا ۵۰۰ هزار"),a.literal("۵۰۰ هزار - ۱ میلیون تومان"),a.literal("۱ میلیون - ۵ میلیون تومان"),a.literal("بیش از ۱۰ میلیون")]).nullable(),notes:a.string().optional(),privateRecord:a.boolean()})}).superRefine((c,r)=>{c.avatar&&c.avatar.size>wo&&r.addIssue({code:a.ZodIssueCode.custom,message:p.AVATAR_TOO_BIG,path:["avatar"]}),c.company.income||r.addIssue({code:a.ZodIssueCode.custom,message:p.OPTION_REQUIRED,path:["company.income"]}),c.company.employees||r.addIssue({code:a.ZodIssueCode.custom,message:p.OPTION_REQUIRED,path:["company.employees"]}),c.company.status||r.addIssue({code:a.ZodIssueCode.custom,message:p.STATUS_REQUIRED,path:["company.status"]}),c.company.manager||r.addIssue({code:a.ZodIssueCode.custom,message:p.MANAGER_REQUIRED,path:["company.manager"]})}),D=Ve(C),N={avatar:null,company:{name:"",email:"",website:"",type:"",phone:"",income:null,employees:null,manager:null,status:null,notes:"",privateRecord:!1}},O=z(()=>"/img/avatars/company.svg"),{handleSubmit:S,isSubmitting:m,setFieldError:j,meta:F,values:ko,errors:Q,resetForm:M,setFieldValue:P,setErrors:zo}=Ue({validationSchema:D,initialValues:N}),x=T(!1);z(()=>Object.keys(Q.value).length);const g=T(null),w=Ee("avatar");ee(g,c=>{const r=c?.item(0)||null;P("avatar",r)}),oe(()=>{if(F.value.dirty)return confirm("تغییرات ذخیره نشده دارید. آیا مطمئنید که می‌خواهید ترک کنید؟")});const y=Be(),R=S(async c=>{x.value=!1,console.log("company-create-success",c);try{await new Promise((r,v)=>{c.company.name==="ایر‌بی‌ان‌بی"&&setTimeout(()=>v(new Error("خطای اعتبارسنجی جعلی در بک‌اند")),2e3),setTimeout(r,4e3)}),y.clearAll(),y.show({title:"موفقیت",message:"Record has been created!",color:"success",icon:"ph:check",closable:!0})}catch(r){r.message==="خطای اعتبارسنجی جعلی در بک‌اند"&&(j("company.name","این نام مجاز نیست"),document.documentElement.scrollTo({top:0,behavior:"smooth"}),y.clearAll(),y.show({title:"اوه!",message:"لطفاً خطاهای فرم را بررسی کنید",color:"danger",icon:"lucide:alert-triangle",closable:!0}));return}M(),document.documentElement.scrollTo({top:0,behavior:"smooth"}),x.value=!0,setTimeout(()=>{x.value=!1},3e3)},c=>{x.value=!1,console.log("company-create-error",c),document.documentElement.scrollTo({top:0,behavior:"smooth"})});return(c,r)=>{const v=se,G=ne,f=de,L=ue,Z=pe,k=_e,H=ve,U=ie,X=fe,E=re,B=ce,V=he,I=be,q=ge,K=xe,W=ye,J=me;return h(),b("div",null,[e("div",Ie,[e("div",we,[e("div",null,[o(v,{as:"h2",size:"xl",weight:"light",lead:"tight",class:"text-muted-800 dark:text-white"},{default:t(()=>[Re]),_:1}),o(G,{size:"sm"},{default:t(()=>[ke]),_:1})])]),e("div",ze,[o(L,{onClick:r[0]||(r[0]=A(l=>c.$router.back(),["prevent"]))},{default:t(()=>[o(f,{name:"lucide:arrow-left",class:"size-3"}),Te]),_:1})])]),o(B,null,{default:t(()=>[e("form",{method:"POST",action:"",class:"divide-muted-200 dark:divide-muted-700 grid divide-x rtl:divide-x-reverse sm:grid-cols-2",onSubmit:r[3]||(r[3]=A((...l)=>n(R)&&n(R)(...l),["prevent"]))},[e("div",Ae,[e("div",$e,[e("div",null,[e("div",Ce,[o(Z,{icon:"ph:image-duotone","filter-file-dropped":l=>l.type.startsWith("image"),onDrop:r[1]||(r[1]=l=>{g.value=l})},null,8,["filter-file-dropped"]),o(H,{modelValue:n(g),"onUpdate:modelValue":r[2]||(r[2]=l=>le(g)?g.value=l:null),accept:"image/*"},{default:t(({open:l,remove:d,preview:i,files:s})=>[e("div",De,[s?.length&&s.item(0)?(h(),b("img",{key:0,src:i(s.item(0)).value,alt:"پیشنمایش آپلود",class:"bg-muted-200 dark:bg-muted-700/60 size-20 rounded-full object-cover object-center"},null,8,Ne)):(h(),b("img",{key:1,src:n(O),alt:"پیشنمایش آپلود",class:"bg-muted-200 dark:bg-muted-700/60 size-20 rounded-full object-cover object-center dark:invert"},null,8,Oe)),s?.length&&s.item(0)?(h(),b("div",Se,[o(k,{size:"sm",rounded:"full","data-nui-tooltip":"حذف تصویر",class:"scale-90",onClick:To=>d(s.item(0))},{default:t(()=>[o(f,{name:"lucide:x",class:"size-4"})]),_:2},1032,["onClick"])])):(h(),b("div",je,[e("div",Fe,[o(k,{size:"sm",rounded:"full",onClick:l},{default:t(()=>[o(f,{name:"lucide:plus",class:"size-4"})]),_:2},1032,["onClick"])])]))])]),_:1},8,["modelValue"]),n(w)?(h(),b("div",Qe,te(n(w)),1)):ae("",!0)]),e("div",Me,[e("div",Pe,[o(n(u),{name:"company.name"},{default:t(({field:l,errorMessage:d,handleChange:i,handleBlur:s})=>[o(U,{label:"شرکت نام",placeholder:"مثال: شرکت ال تم","model-value":l.value,error:d,disabled:n(m),type:"text","onUpdate:modelValue":i,onBlur:s},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Ge,[o(n(u),{name:"company.email"},{default:t(({field:l,errorMessage:d,handleChange:i,handleBlur:s})=>[o(U,{label:"شرکت ایمیل",placeholder:"مثال: hello@eltheme.ir","model-value":l.value,error:d,disabled:n(m),type:"email","onUpdate:modelValue":i,onBlur:s},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Le,[o(n(u),{name:"company.website"},{default:t(({field:l,errorMessage:d,handleChange:i,handleBlur:s})=>[o(U,{icon:"lucide:globe",label:"وب‌سایت شرکت",placeholder:"مثال: https://eltheme.ir","model-value":l.value,error:d,disabled:n(m),type:"text","onUpdate:modelValue":i,onBlur:s},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Ze,[o(n(u),{name:"company.phone"},{default:t(({field:l,errorMessage:d,handleChange:i,handleBlur:s})=>[o(X,{label:"شرکت تلفن",placeholder:"مثال: +۱ ۵۵۵ ۵۵۵ ۵۵۵۵","model-value":l.value,error:d,disabled:n(m),"onUpdate:modelValue":i,onBlur:s},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})])]),e("div",He,[Xe,e("div",qe,[o(n(u),{name:"company.type"},{default:t(({field:l,errorMessage:d,handleChange:i,handleBlur:s})=>[o(V,{value:"team_member_1","model-value":l.value,error:d,disabled:n(m),"onUpdate:modelValue":i,onBlur:s},{default:t(()=>[o(B,{rounded:"sm",class:"text-muted-400 nui-card-muted peer-checked:nui-card-primary peer-checked:[&_.child]:!text-primary-500 relative border px-2 py-4",color:"none"},{default:t(()=>[e("div",Ke,[o(f,{name:"ph:house-simple-duotone",class:"child mx-auto size-5"}),e("div",null,[o(v,{as:"h4",size:"sm",weight:"medium",lead:"none"},{default:t(()=>[_(" تک ")]),_:1}),o(E,{size:"xs",class:"text-muted-400"},{default:t(()=>[_(" شرکت کوچک ")]),_:1})]),We])]),_:1})]),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1}),o(n(u),{name:"company.type"},{default:t(({field:l,errorMessage:d,handleChange:i,handleBlur:s})=>[o(V,{value:"team_member_2","model-value":l.value,error:d,disabled:n(m),"onUpdate:modelValue":i,onBlur:s},{default:t(()=>[o(B,{rounded:"sm",class:"text-muted-400 nui-card-muted peer-checked:nui-card-primary peer-checked:[&_.child]:!text-primary-500 relative border px-2 py-4",color:"none"},{default:t(()=>[e("div",Je,[o(f,{name:"ph:storefront-duotone",class:"child mx-auto size-5"}),e("div",null,[o(v,{as:"h4",size:"sm",weight:"medium",lead:"none"},{default:t(()=>[_(" مسئولیت محدود ")]),_:1}),o(E,{size:"xs",class:"text-muted-400"},{default:t(()=>[_(" شرکت متوسط ")]),_:1})]),Ye])]),_:1})]),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1}),o(n(u),{name:"company.type"},{default:t(({field:l,errorMessage:d,handleChange:i,handleBlur:s})=>[o(V,{value:"team_member_3","model-value":l.value,error:d,disabled:n(m),"onUpdate:modelValue":i,onBlur:s},{default:t(()=>[o(B,{rounded:"sm",class:"text-muted-400 nui-card-muted peer-checked:nui-card-primary peer-checked:[&_.child]:!text-primary-500 relative border px-2 py-4",color:"none"},{default:t(()=>[e("div",eo,[o(f,{name:"ph:buildings-duotone",class:"child mx-auto size-5"}),e("div",null,[o(v,{as:"h4",size:"sm",weight:"medium",lead:"none"},{default:t(()=>[_(" شرکت ")]),_:1}),o(E,{size:"xs",class:"text-muted-400"},{default:t(()=>[_(" شرکت بزرگ‌تر ")]),_:1})]),oo])]),_:1})]),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})])])])])]),e("div",lo,[e("div",to,[e("div",ao,[e("div",so,[o(n(u),{name:"company.income"},{default:t(({field:l,errorMessage:d,handleChange:i,handleBlur:s})=>[o(I,{rounded:"sm",label:"درآمد","model-value":l.value,error:d,disabled:n(m),"onUpdate:modelValue":i,onBlur:s},{default:t(()=>[no,io,ro,co,mo,uo]),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",po,[o(n(u),{name:"company.employees"},{default:t(({field:l,errorMessage:d,handleChange:i,handleBlur:s})=>[o(I,{rounded:"sm",label:"کارمندان","model-value":l.value,error:d,disabled:n(m),"onUpdate:modelValue":i,onBlur:s},{default:t(()=>[_o,vo,fo,ho,bo]),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",go,[o(n(u),{name:"company.manager"},{default:t(({field:l,errorMessage:d,handleChange:i,handleBlur:s})=>[o(q,{label:"مدیر",items:$,properties:{value:"id",label:"name",sublabel:"text",media:"media"},"model-value":l.value,error:d,disabled:n(m),"onUpdate:modelValue":i,onBlur:s},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",xo,[o(n(u),{name:"company.status"},{default:t(({field:l,errorMessage:d,handleChange:i,handleBlur:s})=>[o(I,{rounded:"sm",label:"وضعیت","model-value":l.value,error:d,disabled:n(m),"onUpdate:modelValue":i,onBlur:s},{default:t(()=>[yo,Bo,Uo]),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Eo,[o(n(u),{name:"company.notes"},{default:t(({field:l,errorMessage:d,handleChange:i,handleBlur:s})=>[o(K,{label:"نوت‌های شرکت",placeholder:"نوشتن یادداشت‌هایی...","model-value":l.value,error:d,disabled:n(m),"onUpdate:modelValue":i,onBlur:s},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Vo,[o(n(u),{name:"company.privateRecord"},{default:t(({field:l,errorMessage:d,handleChange:i,handleBlur:s})=>[o(W,{label:"این رکورد خصوصی است",rounded:"sm",color:"primary","model-value":l.value,error:d,disabled:n(m),"onUpdate:modelValue":i,onBlur:s},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})])]),e("div",Io,[o(J,{type:"submit",color:"primary",class:"!h-12 w-full sm:w-40"},{default:t(()=>[_(" ایجاد شرکت ")]),_:1})])])])],32)]),_:1})])}}});export{sl as default};
