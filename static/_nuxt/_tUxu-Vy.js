import{_ as S}from"./MwqgXw5F.js";import{d as N,bw as z,r as C,o as r,c as d,b as v,a as s,N as u,g as a,Y as b,I as _,J as g,f as h,bK as T,t as $}from"./BcqZkZus.js";import{u as O}from"./B3yxynLy.js";import{p as j}from"./D1C97CFX.js";/* empty css        */const B={class:"dark:bg-muted-900 bg-muted-50 min-h-screen"},P={class:"w-full pb-20 pt-32"},A={class:"mx-auto w-full max-w-6xl px-4"},D={class:"grid w-full gap-10 md:grid-cols-12"},I={class:"xs:w-full xs:max-w-xs xs:mx-auto flex flex-col gap-4 md:flex-row"},M={class:"xs:max-w-xs xs:mx-auto relative flex justify-between gap-7 md:flex-col"},V=s("div",{class:"xs:top-1.5 xs:inset-x-0 bg-muted-200 dark:bg-muted-700 absolute start-2 top-2 z-0 mx-auto h-1 w-[calc(100%_-_1rem)] md:h-[calc(100%_-_1rem)] md:w-1 ltr:md:-translate-x-1/2 rtl:md:translate-x-1/2"},null,-1),H={class:"relative flex justify-center gap-7 md:flex-col md:justify-between"},J=["onClick"],W=N({__name:"send",setup(K){z({titleTemplate:e=>`${e} | ارسال پول - مرحله ${o.value+1}`});const y=C({recipient:{name:"",picture:"",address:{lineOne:"",lineTwo:"",city:"",state:"",postalCode:"",country:"ایالات متحده"}},amount:0,account:null,routingNumber:"",prefix:"",method:null}),c=O(),{handleSubmit:m,currentStepId:o,progress:p,complete:f,steps:x,errors:L,goToStep:w}=j({initialState:y,steps:[{to:"/layouts/send",meta:{name:"دریافت‌کننده",title:"شما به چه کسی پرداخت می‌کنید؟",subtitle:"نام شخص یا شرکت مورد نظر برای ارسال پول را وارد کنید"},validate({data:e,setFieldError:t,resetFieldError:l}){l("recipient.name"),e.value.recipient?.name||t("recipient.name","یک نام معتبر وارد کنید")}},{to:"/layouts/send/method",meta:{name:"روش پرداخت",title:"چگونه می‌خواهید پرداخت کنید؟",subtitle:"یکی از روش‌های پرداخت موجود را برای ادامه پرداخت انتخاب کنید"},validate({data:e,setFieldError:t,resetFieldError:l}){l(["method"]),e.value?.method||t("method","لطفا یک روش پرداخت انتخاب کنید")}},{to:"/layouts/send/recipient",meta:{name:"جزئیات دریافت‌کننده",title:"جزئیات دریافت‌کننده",subtitle:"جزئیات مسیریابی دریافت‌کننده را وارد کنید تا پول به حساب آن‌ها ارسال شود"},validate({data:e,setFieldError:t,resetFieldError:l}){l(["routingNumber"]),e.value.routingNumber||t("routingNumber","یک نام معتبر وارد کنید")}},{to:"/layouts/send/address",meta:{name:"آدرس دریافت‌کننده",title:"آدرس دریافت‌کننده",subtitle:"دریافت‌کننده شما باید آدرس قانونی داشته باشد تا بتوانید برای او پول ارسال کنید"},validate({data:e,setFieldError:t,resetFieldError:l}){l(["recipient.address.lineOne","recipient.address.city","recipient.address.postalCode"]),e.value.recipient?.address?.lineOne||t("recipient.address.lineOne","آدرسی وارد کنید"),e.value.recipient?.address?.city||t("recipient.address.city","یک شهر وارد کنید"),e.value.recipient?.address?.postalCode||t("recipient.address.postalCode","یک کد پستی وارد کنید")}},{to:"/layouts/send/amount",meta:{name:"مقدار",title:"یک مقدار برای انتقال تعیین کنید",subtitle:"مبلغی برای انتقال وارد کنید. این مبلغ نمی‌تواند از موجودی حساب انتخاب شده بیشتر باشد"},validate({data:e,setFieldError:t,resetFieldError:l}){l(["amount","account"]),e.value.account||t("account","یک حساب را انتخاب کنید"),e.value.amount<=0?t("amount","یک مقدار مثبت وارد کنید"):e.value.account&&e.value.amount>e.value.account.balance&&t("amount","مقدار باید کمتر از موجودی باشد")}},{to:"/layouts/send/review",meta:{name:"بازبینی",title:"بررسی و ارسال",subtitle:"قبل از ارسال پول، مطمئن شوید که همه چیز در فرآیند درست است"}}],onSubmit:async(e,t)=>{await new Promise(l=>setTimeout(l,4e3)),c.clearAll(),c.show({title:"موفقیت",message:"درخواست انتقال ارسال شد!",color:"success",icon:"ph:check",closable:!0})},onError:e=>{c.clearAll(),c.show({title:"خطا",message:e.message,color:"danger",icon:"lucide:alert-triangle",closable:!0})}});return(e,t)=>{const l=S,k=T;return r(),d("div",B,[v(l,{title:"ارسال پول","close-to":"/layouts/payments"}),s("div",P,[s("div",A,[s("div",D,[s("div",{class:u(a(f)?"hidden":"md:col-span-3 lg:col-span-4")},[s("div",I,[s("div",M,[V,s("div",{class:"bg-primary-500 absolute start-2 top-0 z-10 mx-auto hidden w-0.5 rounded-full transition-all duration-300 md:block ltr:-translate-x-1/2 rtl:translate-x-1/2",style:b(`height: ${a(p)}%;`)},null,4),s("div",{class:"bg-primary-500 absolute start-1.5 top-[7px] z-10 h-0.5 rounded-full transition-all duration-300 md:hidden",style:b(`width: calc(${a(p)}% - 0.5rem);`)},null,4),(r(!0),d(_,null,g(a(x),(n,i)=>(r(),d("div",{key:i,class:"bg-muted-200 dark:bg-muted-700 relative z-20 flex size-4 items-center justify-center rounded-full"},[s("span",{class:u(["bg-primary-500 block size-2 rounded-full transition-transform duration-300",a(o)>=i?"scale-1":"scale-0"])},null,2)]))),128))]),s("div",H,[(r(!0),d(_,null,g(a(x),(n,i)=>(r(),d("a",{key:i,class:u(["h-4 leading-none",[a(o)===i?"":"xs:hidden",a(o)>n.id?"nui-link":"cursor-default"]]),role:"button",tabindex:0,onClick:h(Y=>a(o)>n.id?a(w)(n):()=>{},["prevent"])},[s("span",{class:u(["font-heading block text-xs",a(o)===i?"text-muted-800 dark:text-muted-100":"text-muted-400 dark:text-muted-500"])},$(n.meta.name),3)],10,J))),128))])])],2),s("div",{class:u(a(f)?"col-span-12":"md:col-span-9 lg:col-span-8")},[s("form",{action:"",method:"POST",novalidate:"",onSubmit:t[0]||(t[0]=h((...n)=>a(m)&&a(m)(...n),["prevent"]))},[v(k)],32)],2)])])])])}}});export{W as default};
