import{d as L,ad as Q,ae as W,ab as h,r as X,aa as ee,F as p,a1 as ne,o,c as u,N as s,g as a,C as g,e as B,t as F,K as c,a as m,Z as C,aV as E,y as R,M as S,b,D as te,w as ae,au as le,_ as oe,af as ue}from"./BcqZkZus.js";const f=window.setInterval,se=["for"],ie=["id","type","placeholder","inputmode","disabled"],re=["id","type","placeholder","inputmode","disabled"],de=["for"],ce={key:3,class:"nui-input-number-placeload"},me=["disabled"],pe=["disabled"],fe=L({inheritAttrs:!1,__name:"BaseInputNumber",props:Q({min:{default:void 0},max:{default:void 0},step:{default:1},id:{default:void 0},type:{default:"text"},inputmode:{default:void 0},label:{default:void 0},labelFloat:{type:Boolean},icon:{default:void 0},placeholder:{default:void 0},error:{type:[String,Boolean],default:!1},iconDecrement:{default:"lucide:minus"},iconIncrement:{default:"lucide:plus"},colorFocus:{type:Boolean},loading:{type:Boolean},disabled:{type:Boolean},contrast:{default:void 0},rounded:{default:void 0},size:{default:void 0},classes:{default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(V,{expose:A}){const e=V;function U(n){const l=Number.parseFloat(n);return Number.isNaN(l)?n:l}const[t,Y]=W(V,"modelValue",{set(n){return U(n)}}),k=h(e,"BaseInputNumber","contrast"),P=h(e,"BaseInputNumber","rounded"),M=h(e,"BaseInputNumber","size"),j={none:"",sm:"nui-input-number-rounded-sm",md:"nui-input-number-rounded-md",lg:"nui-input-number-rounded-lg",full:"nui-input-number-rounded-full"},G={sm:"nui-input-number-sm",md:"nui-input-number-md",lg:"nui-input-number-lg"},H={default:"nui-input-number-default","default-contrast":"nui-input-number-default-contrast",muted:"nui-input-number-muted","muted-contrast":"nui-input-number-muted-contrast"},v=X(),i=ee(()=>e.id);A({el:v,id:i});const w=p(()=>{if(!e.loading)return e.labelFloat?e.label:e.placeholder}),K=p(()=>{if(!Number.isFinite(e.step)||Number.isNaN(e.step))return 0;let n=1,l=0;for(;Math.round(e.step*n)/n!==e.step;)n*=10,l++;return l}),D=p(()=>10**K.value),$=p(()=>Math.abs(e.step));function x(n){const l=Math.round(n*D.value)/D.value;return Math.max(Math.min(l,e.max??Number.POSITIVE_INFINITY),e.min??Number.NEGATIVE_INFINITY)}function y(){if(!e.disabled){if(t.value===void 0){t.value=0;return}typeof t.value=="number"&&(t.value=x(t.value+$.value))}}function I(){if(!e.disabled){if(t.value===void 0){t.value=0;return}typeof t.value=="number"&&(t.value=x(t.value-$.value))}}let r;function O(){if(e.disabled)return;y();let n=0;r=f(()=>{n++,y(),n>10&&(clearInterval(r),r=f(y,50))},150)}function z(){clearInterval(r)}let d;function Z(){if(e.disabled)return;I();let n=0;d=f(()=>{n++,I(),n>10&&(clearInterval(d),d=f(I,50))},150)}function T(){clearInterval(d)}return ne(()=>{clearInterval(r),clearInterval(d)}),(n,l)=>{const q=le,_=oe,J=ue;return o(),u("div",{class:s(["nui-input-number-wrapper",[a(k)&&H[a(k)],a(M)&&G[a(M)],a(P)&&j[a(P)],e.error&&!e.loading&&"nui-input-number-error",e.loading&&"nui-input-number-loading",e.labelFloat&&"nui-input-number-label-float",e.icon&&"nui-has-icon",e.colorFocus&&"nui-input-number-focus",e.classes?.wrapper]])},["label"in n.$slots&&!e.labelFloat||e.label&&!e.labelFloat?(o(),u("label",{key:0,class:s(["nui-input-number-label",e.classes?.label]),for:a(i)},[g(n.$slots,"label",{},()=>[B(F(e.label),1)])],10,se)):c("",!0),m("div",{class:s(["nui-input-number-outer",e.classes?.outer])},[m("div",null,[a(Y).lazy?C((o(),u("input",R({key:0,id:a(i),ref_key:"inputRef",ref:v,"onUpdate:modelValue":l[0]||(l[0]=N=>S(t)?t.value=N:null),type:e.type},n.$attrs,{class:["nui-input-number",e.classes?.input],placeholder:a(w),inputmode:e.inputmode,disabled:e.disabled}),null,16,ie)),[[E,a(t),void 0,{lazy:!0}]]):C((o(),u("input",R({key:1,id:a(i),ref_key:"inputRef",ref:v,"onUpdate:modelValue":l[1]||(l[1]=N=>S(t)?t.value=N:null),type:e.type},n.$attrs,{class:["nui-input-number",e.classes?.input],placeholder:a(w),inputmode:e.inputmode,disabled:e.disabled}),null,16,re)),[[E,a(t)]]),"label"in n.$slots&&e.labelFloat||e.label&&e.labelFloat?(o(),u("label",{key:2,class:s(["nui-label-float",e.classes?.label]),for:a(i)},[g(n.$slots,"label",{},()=>[B(F(e.label),1)])],10,de)):c("",!0),e.loading?(o(),u("div",ce,[b(q,{class:"nui-placeload"})])):c("",!0),e.icon?(o(),u("div",{key:4,class:s(["nui-input-number-icon",e.classes?.icon])},[g(n.$slots,"icon",{},()=>[b(_,{name:e.icon,class:"nui-input-number-icon-inner"},null,8,["name"])])],2)):c("",!0),m("div",{class:s(["nui-input-number-buttons",e.classes?.buttons])},[m("button",{type:"button","aria-label":"Decrement",onPointerdown:Z,onPointerout:T,onPointerup:T,disabled:e.disabled},[b(_,{name:e.iconDecrement},null,8,["name"])],40,me),m("button",{type:"button","aria-label":"Increment",onPointerdown:O,onPointerout:z,onPointerup:z,disabled:e.disabled},[b(_,{name:e.iconIncrement},null,8,["name"])],40,pe)],2)])],2),e.error&&typeof e.error=="string"?(o(),te(J,{key:1,color:"danger",class:s(e.classes?.error)},{default:ae(()=>[B(F(e.error),1)]),_:1},8,["class"])):c("",!0)],2)}}});export{fe as _};
