import{d as J,r as w,F as N,G as K,bN as W,o as E,c as ee,a as e,b as t,w as s,e as c,g as o,t as f,N as I,D as T,f as oe,i as te,m as se,k as le,h as ae,l as de,q as ne,_ as re}from"./BcqZkZus.js";import{_ as ie}from"./kS1fbhvo.js";import{_ as ce}from"./DrX4eq2Y.js";import{_ as ue}from"./TQMCjICd.js";import{_ as me}from"./llmWmC7p.js";import{_ as _e}from"./C5I0ggEt.js";import{u as pe}from"./B3yxynLy.js";import{_ as he}from"./CRxGbTOl.js";import{z as l,u as ve,a as fe,F as h,t as be}from"./D-uu3znW.js";/* empty css        */import"./CYv6XnjC.js";import"./ChOUEfbg.js";import"./bi14rltw.js";import"./C_HXzHsg.js";import"./C3MAjp-z.js";import"./B3PT0ydx.js";import"./DY2N-qsS.js";import"./BQdoyUYG.js";const ge={class:"ltablet:col-span-8 col-span-12 lg:col-span-8"},xe={class:"grid grid-cols-1 gap-4 gap-y-2 text-sm lg:grid-cols-12"},Ee={class:"col-span-12 mb-10 text-gray-600 sm:col-span-3 sm:mb-0"},Ie={class:"ltablet:col-span-9 col-span-12 space-y-10 lg:col-span-9"},Re={class:"grid grid-cols-12 gap-4"},Ue={class:"col-span-12 md:col-span-6"},Be={class:"col-span-12 md:col-span-6"},Te={class:"col-span-12 md:col-span-6"},ye={class:"col-span-12 md:col-span-6"},we=e("option",{value:"",hidden:""},null,-1),Ne=e("option",{value:"جراحی"}," جراحی ",-1),Oe=e("option",{value:"قلب‌شناسی"}," قلب‌شناسی ",-1),Ve=e("option",{value:"پدیاتری"}," پدیاتری ",-1),ke=e("option",{value:"پوست‌شناسی"}," پوست‌شناسی ",-1),De=e("option",{value:"تروماتولوژی"}," تروماتولوژی ",-1),Se={class:"col-span-12"},Ae={class:"col-span-12"},ze={class:"col-span-12 md:col-span-4"},Qe=e("option",{value:"",hidden:""},null,-1),Ce=e("option",{value:"اینترن"}," اینترن ",-1),Pe=e("option",{value:"رزیدنت"}," رزیدنت ",-1),Fe=e("option",{value:"صاحب عنوان"}," صاحب عنوان ",-1),$e={class:"col-span-12 md:col-span-4"},Le=e("option",{value:"",hidden:""},null,-1),Me=e("option",{value:"0-5"}," 0-5 ",-1),Ze=e("option",{value:"5-10"}," 5-10 ",-1),Ge=e("option",{value:"10-15"}," 10-15 ",-1),je=e("option",{value:"15+"}," 15+ ",-1),He={class:"col-span-12 md:col-span-4"},Ye=e("option",{value:"",hidden:""},null,-1),qe=e("option",{value:"1"}," B+ ",-1),Xe=e("option",{value:"2"}," A ",-1),Je=e("option",{value:"3"}," A+ ",-1),Ke=e("option",{value:"4"}," S ",-1),We=e("option",{value:"5"}," S+ ",-1),eo={class:"grid grid-cols-12 gap-4"},oo={class:"col-span-12"},to={class:"col-span-12 sm:col-span-4"},so={class:"col-span-12 sm:col-span-4"},lo={class:"col-span-12 sm:col-span-4"},ao={class:"col-span-12"},no={class:"bg-muted-100 dark:bg-muted-700/70 flex items-center gap-2 rounded-lg p-4"},ro={class:"ms-auto"},io={class:"text-right md:col-span-5"},co={class:"-mt-4 inline-flex w-full items-center justify-end gap-2 sm:w-auto"},uo={class:"ltablet:col-span-4 col-span-12 lg:col-span-4"},mo={class:"mb-4 flex"},_o={class:"grow"},po={class:"shrink-0"},ho={class:"divide-muted-200 dark:divide-muted-700 flex w-full items-center divide-x py-6 rtl:divide-x-reverse"},vo={class:"xxl:pe-6 flex flex-1 flex-col gap-1 pe-4"},fo={class:"xxl:px-6 flex flex-1 flex-col gap-1 px-4"},bo={class:"xxl:ps-6 flex flex-1 flex-col gap-1 ps-4"},go={class:"flex items-end justify-between"},xo=e("div",{class:"w-24 text-xs uppercase leading-tight"}," رتبه‌بندی ",-1),Eo={class:"text-success-600 font-sans text-xs font-semibold"},Io={class:"mt-1 flex"},Ro={class:"text-muted-400 mt-6 flex items-center gap-2"},Uo={class:"text-muted-400 mt-6 flex items-center gap-2"},Bo=1e6,jo=J({__name:"form-2",setup(To){const _={FIRSTNAME_REQUIRED:"نام نمی‌تواند خالی باشد",LASTNAME_REQUIRED:"نام خانوادگی نمی‌تواند خالی باشد",EMAIL_REQUIRED:"آدرس ایمیل نمی‌تواند خالی باشد",OPTION_REQUIRED:"لطفاً یک گزینه انتخاب کنید",ADDRESS_REQUIRED:"لطفاً یک آدرس وارد کنید",CITY_REQUIRED:"لطفاً یک شهر وارد کنید",STATE_REQUIRED:"لطفاً یک استان وارد کنید",ZIPCODE_REQUIRED:"لطفاً یک کد پستی وارد کنید",STATUS_REQUIRED:"وضعیت را انتخاب کنید",AVATAR_TOO_BIG:"اندازه آواتار باید کمتر از ۱ مگابایت باشد"},y=w();function Q(u){switch(u){case"INVALID_COUNTRY":return"لطفاً یک کشور انتخاب کنید";case"NO_POSSIBLE_COUNTRIES":return"کشورهای ممکن برای این شماره تلفن موجود نیستند";case"PHONE_NUMBER_NOT_POSSIBLE":return"این شماره تلفن برای کشور انتخاب شده معتبر نیست";case"NOT_A_NUMBER":case"TOO_SHORT":case"TOO_LONG":default:return"لطفاً یک شماره تلفن معتبر وارد کنید"}}const C=l.object({avatar:l.custom(u=>u instanceof File).nullable(),doctor:l.object({firstName:l.string().min(1,_.FIRSTNAME_REQUIRED),lastName:l.string().min(1,_.LASTNAME_REQUIRED),email:l.string().min(1,_.EMAIL_REQUIRED),comments:l.string().optional(),phone:l.string().optional(),status:l.union([l.literal("اینترن"),l.literal("رزیدنت"),l.literal("صاحب عنوان")]).nullable(),speciality:l.union([l.literal("جراحی"),l.literal("قلب‌شناسی"),l.literal("پدیاتری"),l.literal("پوست‌شناسی"),l.literal("تروماتولوژی")]).nullable(),experience:l.union([l.literal("0-5"),l.literal("5-10"),l.literal("10-15"),l.literal("15+")]).nullable(),rating:l.union([l.literal("1"),l.literal("2"),l.literal("3"),l.literal("4"),l.literal("5")]).nullable(),address:l.string().min(1,_.ADDRESS_REQUIRED),city:l.string().min(1,_.CITY_REQUIRED),state:l.string().min(1,_.STATE_REQUIRED),zipcode:l.string().min(5,_.ZIPCODE_REQUIRED),country:l.string()})}).superRefine((u,m)=>{u.avatar&&u.avatar.size>Bo&&m.addIssue({code:l.ZodIssueCode.custom,message:_.AVATAR_TOO_BIG,path:["avatar"]}),u.doctor.status||m.addIssue({code:l.ZodIssueCode.custom,message:_.OPTION_REQUIRED,path:["doctor.status"]}),u.doctor.speciality||m.addIssue({code:l.ZodIssueCode.custom,message:_.OPTION_REQUIRED,path:["doctor.speciality"]}),u.doctor.experience||m.addIssue({code:l.ZodIssueCode.custom,message:_.OPTION_REQUIRED,path:["doctor.experience"]}),u.doctor.rating||m.addIssue({code:l.ZodIssueCode.custom,message:_.OPTION_REQUIRED,path:["doctor.rating"]}),y.value?.validation?.valid||m.addIssue({code:l.ZodIssueCode.custom,message:Q(y.value?.validation?.error)||_.OPTION_REQUIRED,path:["doctor.phone"]})}),P=be(C),F={avatar:null,doctor:{firstName:"",lastName:"",email:"",comments:"",status:null,speciality:null,experience:null,rating:null,address:"",city:"",state:"",zipcode:"",country:"ایالات متحده"}},{handleSubmit:$,isSubmitting:p,setFieldError:L,meta:M,values:d,errors:Z,resetForm:G,setFieldValue:j,setErrors:yo}=ve({validationSchema:P,initialValues:F}),R=w(!1);N(()=>Object.keys(Z.value).length);const H=w();fe("avatar"),K(H,u=>{const m=u?.item(0)||null;j("avatar",m)}),W(()=>{if(M.value.dirty)return confirm("تغییرات ذخیره نشده دارید. آیا مطمئنید که می‌خواهید ترک کنید؟")});const U=pe(),O=$(async u=>{R.value=!1,console.log("doctor-create-success",u);try{await new Promise((m,b)=>{u.doctor.speciality==="قلب‌شناسی"&&setTimeout(()=>b(new Error("خطای اعتبارسنجی جعلی در بک‌اند")),2e3),setTimeout(m,4e3)}),U.clearAll(),U.show({title:"موفقیت",message:"پزشک افزوده شد!",color:"success",icon:"ph:check",closable:!0})}catch(m){m.message==="خطای اعتبارسنجی جعلی در بک‌اند"&&(L("doctor.speciality","ما کاردیولوژیست‌های زیادی داریم"),document.documentElement.scrollTo({top:0,behavior:"smooth"}),U.clearAll(),U.show({title:"اوه!",message:"لطفاً خطاهای فرم را بررسی کنید",color:"danger",icon:"lucide:alert-triangle",closable:!0}));return}G(),document.documentElement.scrollTo({top:0,behavior:"smooth"}),R.value=!0,setTimeout(()=>{R.value=!1},3e3)},u=>{R.value=!1,console.log("doctor-create-error",u),document.documentElement.scrollTo({top:0,behavior:"smooth"})}),x=N(()=>d.doctor?.rating===void 0||d.doctor?.rating===null?0:parseInt(d.doctor?.rating)),Y=N(()=>{switch(x.value){case 1:return"استاندارد";case 2:return"خوب";case 3:return"حرفه‌ای";case 4:return"متخصص";case 5:return"۳ درصد نخبه";default:return"نامشخص"}});return(u,m)=>{const b=te,v=se,g=le,B=ie,q=ce,V=ue,k=me,X=ae,D=de,S=ne,A=re,z=_e;return E(),ee("form",{action:"",method:"POST",class:"grid grid-cols-12 gap-6",onSubmit:m[0]||(m[0]=oe((...a)=>o(O)&&o(O)(...a),["prevent"]))},[e("div",ge,[t(S,{rounded:"sm",class:"p-4 md:p-8"},{default:s(()=>[e("div",xe,[e("div",Ee,[t(b,{as:"h2",size:"lg",weight:"medium",class:"text-muted-800 dark:text-white"},{default:s(()=>[c(" پزشک جدید ")]),_:1}),t(v,{size:"xs",class:"text-muted-400"},{default:s(()=>[c(" فیلدهای الزامی را پر کنید ")]),_:1})]),e("div",Ie,[t(V,{label:"اطلاعات عمومی",sublabel:"برخی اطلاعات عمومی"},{default:s(()=>[e("div",Re,[e("div",Ue,[t(o(h),{name:"doctor.firstName"},{default:s(({field:a,errorMessage:n,handleChange:r,handleBlur:i})=>[t(g,{label:"نام",icon:"ph:user-duotone",placeholder:"مثال: قاسم","model-value":a.value,error:n,disabled:o(p),type:"text","onUpdate:modelValue":r,onBlur:i},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Be,[t(o(h),{name:"doctor.lastName"},{default:s(({field:a,errorMessage:n,handleChange:r,handleBlur:i})=>[t(g,{label:"نام خانوادگی",icon:"ph:user-duotone",placeholder:"مثال: قاسمی","model-value":a.value,error:n,disabled:o(p),type:"text","onUpdate:modelValue":r,onBlur:i},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Te,[t(o(h),{name:"doctor.email"},{default:s(({field:a,errorMessage:n,handleChange:r,handleBlur:i})=>[t(g,{label:"آدرس ایمیل",icon:"ph:envelope-duotone",placeholder:"مثال: ghasem@eltheme.ir","model-value":a.value,error:n,disabled:o(p),type:"email","onUpdate:modelValue":r,onBlur:i},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",ye,[t(o(h),{name:"doctor.speciality"},{default:s(({field:a,errorMessage:n,handleChange:r,handleBlur:i})=>[t(B,{label:"تخصص",icon:"ph:first-aid-duotone","model-value":a.value,error:n,disabled:o(p),"onUpdate:modelValue":r,onBlur:i},{default:s(()=>[we,Ne,Oe,Ve,ke,De]),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Se,[t(o(h),{name:"doctor.phone"},{default:s(({field:a,errorMessage:n,handleChange:r,handleBlur:i})=>[t(o(he),{ref_key:"inputPhoneRef",ref:y,label:"تلفن اضطراری",placeholder:"مثال: +۱ ۵۵۵ ۵۵۵ ۵۵۵۵",icon:"lucide:phone","model-value":a.value,error:n,disabled:o(p),"onUpdate:modelValue":r,onBlur:i},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Ae,[t(o(h),{name:"doctor.comments"},{default:s(({field:a,errorMessage:n,handleChange:r,handleBlur:i})=>[t(q,{label:"نظرات",placeholder:"مثال: جراحی ارتوپدی عمومی، جراحی پا و مچ پا",rows:"3","model-value":a.value,error:n,disabled:o(p),"onUpdate:modelValue":r,onBlur:i},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",ze,[t(o(h),{name:"doctor.status"},{default:s(({field:a,errorMessage:n,handleChange:r,handleBlur:i})=>[t(B,{label:"وضعیت",icon:"ph:heartbeat-duotone","model-value":a.value,error:n,disabled:o(p),"onUpdate:modelValue":r,onBlur:i},{default:s(()=>[Qe,Ce,Pe,Fe]),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",$e,[t(o(h),{name:"doctor.experience"},{default:s(({field:a,errorMessage:n,handleChange:r,handleBlur:i})=>[t(B,{label:"تجربه",icon:"ph:trophy-duotone","model-value":a.value,error:n,disabled:o(p),"onUpdate:modelValue":r,onBlur:i},{default:s(()=>[Le,Me,Ze,Ge,je]),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",He,[t(o(h),{name:"doctor.rating"},{default:s(({field:a,errorMessage:n,handleChange:r,handleBlur:i})=>[t(B,{label:"رتبه‌بندی",icon:"ph:star-duotone","model-value":a.value,error:n,disabled:o(p),"onUpdate:modelValue":r,onBlur:i},{default:s(()=>[Ye,qe,Xe,Je,Ke,We]),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})])])]),_:1}),t(V,{label:"اطلاعات شخصی",sublabel:"برخی اطلاعات شخصی"},{default:s(()=>[e("div",eo,[e("div",oo,[t(o(h),{name:"doctor.address"},{default:s(({field:a,errorMessage:n,handleChange:r,handleBlur:i})=>[t(g,{label:"آدرس / خیابان",icon:"ph:map-pin-duotone",placeholder:"مثال: اپلیکیشن ۲، سوئیت G3، سانتا مونیکا","model-value":a.value,error:n,disabled:o(p),"onUpdate:modelValue":r,onBlur:i},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",to,[t(o(h),{name:"doctor.city"},{default:s(({field:a,errorMessage:n,handleChange:r,handleBlur:i})=>[t(g,{label:"شهر",icon:"ph:buildings-duotone",placeholder:"مثال: لس آنجلس","model-value":a.value,error:n,disabled:o(p),type:"text","onUpdate:modelValue":r,onBlur:i},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",so,[t(o(h),{name:"doctor.state"},{default:s(({field:a,errorMessage:n,handleChange:r,handleBlur:i})=>[t(g,{label:"استان/ایالت",icon:"ph:globe-duotone",placeholder:"مثال: CA","model-value":a.value,error:n,disabled:o(p),type:"text","onUpdate:modelValue":r,onBlur:i},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",lo,[t(o(h),{name:"doctor.zipcode"},{default:s(({field:a,errorMessage:n,handleChange:r,handleBlur:i})=>[t(g,{type:"text",label:"کد پستی",icon:"ph:paper-plane-tilt-duotone",placeholder:"مثال: ۹۱۲۶۵۶","model-value":a.value,error:n,disabled:o(p),"onUpdate:modelValue":r,onBlur:i},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",ao,[e("div",no,[t(k,{size:"xs",src:"/img/icons/flags/united-states-of-america.svg"}),t(v,{size:"sm",class:"text-muted-500 dark:text-muted-400"},{default:s(()=>[c(" ایالات متحده ")]),_:1}),e("div",ro,[t(X,{to:"#",class:"text-primary-500 font-sans text-sm underline-offset-4 hover:underline"},{default:s(()=>[c(" تغییر ")]),_:1})])])])])]),_:1}),e("div",io,[e("div",co,[t(D,{class:"!h-12 w-full sm:w-40"},{default:s(()=>[c(" لغو ")]),_:1}),t(D,{type:"submit",color:"primary",class:"!h-12 w-full sm:w-40"},{default:s(()=>[c(" ارسال ")]),_:1})])])])])]),_:1})]),e("div",uo,[t(S,{class:"ptablet:p-8 p-6 lg:p-8"},{default:s(()=>[t(v,{size:"xs",weight:"medium",class:"text-muted-400 mb-6 block uppercase tracking-wider"},{default:s(()=>[c(" پیش‌نمایش رکورد ")]),_:1}),e("div",mo,[e("div",_o,[t(b,{as:"h3",weight:"medium"},{default:s(()=>[c(" دکتر "+f(o(d).doctor?.firstName)+" "+f(o(d).doctor?.lastName),1)]),_:1}),t(v,{size:"sm",class:"text-muted-400"},{default:s(()=>[c(f(o(d).doctor?.city===""?"شهر":o(d).doctor?.city)+", "+f(o(d).doctor?.state===""?"استان":o(d).doctor?.state),1)]),_:1})]),e("div",po,[t(k,{size:"lg",src:"/img/avatars/20.svg"})])]),e("div",null,[t(b,{as:"h3",size:"md",weight:"medium"},{default:s(()=>[c(f(o(d).doctor?.speciality===null?"تخصص اصلی":o(d).doctor?.speciality),1)]),_:1}),t(v,{size:"sm",class:"text-muted-400"},{default:s(()=>[c(f(o(d).doctor?.comments===""?"مشاهدات در اینجا نمایش داده می‌شوند":o(d).doctor?.comments),1)]),_:1})]),e("div",ho,[e("div",vo,[t(b,{as:"h3",size:"sm",weight:"medium",lead:"none"},{default:s(()=>[c(f(o(d).doctor?.status===null?"نامشخص":o(d).doctor?.status),1)]),_:1}),t(v,{size:"xs",class:"text-muted-400"},{default:s(()=>[c(" وضعیت نقش ")]),_:1})]),e("div",fo,[t(b,{as:"h3",size:"sm",weight:"medium",lead:"none"},{default:s(()=>[c(f(o(d).doctor?.experience===null?"نامشخص":o(d).doctor?.experience),1)]),_:1}),t(v,{size:"xs",class:"text-muted-400"},{default:s(()=>[c(" سال‌های تجربه ")]),_:1})]),e("div",bo,[t(b,{as:"h3",size:"sm",weight:"medium",lead:"none"},{default:s(()=>[c(" سطح "+f(o(d).doctor?.rating===null?"نامشخص":o(d).doctor?.rating),1)]),_:1}),t(v,{size:"xs",class:"text-muted-400"},{default:s(()=>[c(" رتبه‌بندی جهانی ")]),_:1})])]),e("div",null,[e("div",go,[xo,e("div",Eo,f(o(Y)),1)]),e("div",Io,[e("div",{class:I(["dark:border-muted-800 h-3 grow border-x border-white",o(x)>0?"bg-success-600":"bg-muted-200 dark:bg-muted-700"])},null,2),e("div",{class:I(["dark:border-muted-800 h-3 grow border-x border-white",o(x)>=2?"bg-success-600":"bg-muted-200 dark:bg-muted-700"])},null,2),e("div",{class:I(["dark:border-muted-800 h-3 grow border-x border-white",o(x)>=3?"bg-success-600":"bg-muted-200 dark:bg-muted-700"])},null,2),e("div",{class:I(["dark:border-muted-800 h-3 grow border-x border-white",o(x)>=4?"bg-success-600":"bg-muted-200 dark:bg-muted-700"])},null,2),e("div",{class:I(["dark:border-muted-800 h-3 grow border-x border-white",o(x)===5?"bg-success-600":"bg-muted-200 dark:bg-muted-700"])},null,2)])]),e("div",Ro,[t(A,{name:"lucide:mail",class:"size-4"}),o(d).doctor?.email?(E(),T(z,{key:0,class:"block",href:`mailto:${o(d).doctor?.email}`},{default:s(()=>[t(v,{size:"xs"},{default:s(()=>[c(f(o(d).doctor?.email),1)]),_:1})]),_:1},8,["href"])):(E(),T(v,{key:1,size:"xs",class:"dark:text-muted-200 opacity-50"},{default:s(()=>[c(" ایمیل خود را پر کنید ")]),_:1}))]),e("div",Uo,[t(A,{name:"lucide:phone",class:"size-4"}),o(d).doctor?.phone?(E(),T(z,{key:0,class:"block",href:`tel:${o(d).doctor?.phone}`},{default:s(()=>[t(v,{size:"xs"},{default:s(()=>[c(f(o(d).doctor?.phone),1)]),_:1})]),_:1},8,["href"])):(E(),T(v,{key:1,size:"xs",class:"dark:text-muted-200 opacity-50"},{default:s(()=>[c(" تلفن اضطراری خود را پر کنید ")]),_:1}))])]),_:1})])],32)}}});export{jo as default};
