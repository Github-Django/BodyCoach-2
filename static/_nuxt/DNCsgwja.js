import{d as S,ao as T,r as g,x as F,G,ap as H,aq as M,a7 as w,F as q,o as l,c as u,g as e,C as y,a as d,b as f,N as b,t as B,K as R,I as A,J as E,z as k,A as P,w as J,f as K,y as U,_ as Q,k as W}from"./BcqZkZus.js";const X={class:"group/password-strength relative"},Y={key:0,class:"border-muted-200 dark:border-muted-700 shadow-muted-300/30 dark:shadow-muted-800/20 dark:bg-muted-800 pointer-events-none absolute -bottom-1 start-0 z-20 translate-y-full rounded-lg border bg-white p-6 opacity-0 shadow-xl transition-opacity duration-300 group-focus-within/password-strength:pointer-events-auto group-focus-within/password-strength:opacity-100"},Z={class:"flex flex-col gap-4"},ee={key:0,class:"flex items-center justify-between gap-2"},te=["disabled","data-nui-tooltip"],se={class:"relative flex size-full items-center justify-center"},ae={class:"-mx-1 mt-2 grid grid-cols-5"},ne=S({inheritAttrs:!1,__name:"AddonInputPassword",props:{modelValue:{default:""},userInputs:{default:()=>[]},locale:{type:Function,default:void 0},rounded:{default:"sm"},show:{type:Boolean},touched:{type:Boolean},disabled:{type:Boolean}},emits:["update:modelValue","validation","visibility"],setup(L,{expose:O,emit:j}){const a=L,h=j,c=T(a,"modelValue",h,{passive:!0,defaultValue:""}),o=g(a.show??!1);let _,z,V,v=!1;const I=g(),r=g(a.touched??!1),t=F(null);O({touched:r,validation:t,showPassword:o,toggleVisibility:p,inputRef:I});function D(s,n=!0){c.value=s,r.value=n}function p(){o.value=!o.value}G(o,s=>h("visibility",s));async function C(s){if(!_){v=!0;return}z.setOptions(V),t.value=await _(s,a.userInputs);const n=t.value.crackTimesSeconds.offlineFastHashing1e10PerSecond>1e9;t.value.score+=n?1:0,h("validation",{validation:t.value,touched:r.value})}H([c,()=>a.userInputs],([s])=>C(s),{debounce:200,immediate:!0}),M(async()=>{const[{zxcvbnAsync:s,zxcvbnOptions:n},{dictionary:m,adjacencyGraphs:x},{dictionary:i,translations:N}]=await Promise.all([w(()=>import("./H85WeBBy.js"),[],import.meta.url),w(()=>import("./bdamX4EN.js"),[],import.meta.url),a.locale?a.locale():w(()=>import("./BDtqNyGO.js"),[],import.meta.url)]);if(V={useLevenshteinDistance:!0,graphs:x,dictionary:{...m,...i},translations:N},_=s,z=n,v){if(v=!1,!c.value)return;C(c.value)}});const $=q(()=>{switch(a.rounded){case"sm":return"[&_.nui-text-button]:rounded-s";case"md":return"[&_.nui-text-button]:rounded-s-md";case"lg":return"[&_.nui-text-button]:rounded-s-xl";case"full":return"[&_.nui-text-button]:rounded-s-full";case"none":return""}});return(s,n)=>{const m=Q,x=W;return l(),u("div",X,[e(t)?.feedback?.suggestions?.length||e(t)?.feedback?.warning?(l(),u("div",Y,[y(s.$slots,"help",k(P({touched:e(r),validation:e(t),showPassword:e(o),toggleVisibility:p})),()=>[d("ul",Z,[e(t)?.feedback?.warning?(l(),u("li",ee,[f(m,{name:"lucide:help-circle",class:"text-muted-400 dark:text-muted-500 size-4 shrink-0"}),d("span",{class:b(["grow text-xs dark:text-slate-400",["dark:text-slate-350 font-semibold"]])},B(e(t)?.feedback?.warning),1)])):R("",!0),(l(!0),u(A,null,E(e(t)?.feedback?.suggestions,i=>(l(),u("li",{key:i,class:"flex items-center justify-between gap-2"},[f(m,{name:"lucide:help-circle",class:"text-muted-400 dark:text-muted-500 size-4 shrink-0"}),d("span",{class:b(["grow text-xs dark:text-slate-400",["dark:text-slate-350 font-semibold"]])},B(i),1)]))),128))])])])):R("",!0),f(x,U({ref_key:"inputRef",ref:I,"model-value":e(c),type:e(o)?"text":"password",disabled:a.disabled,rounded:a.rounded},s.$attrs,{classes:{input:"!pe-12"},"onUpdate:modelValue":n[1]||(n[1]=i=>{D(String(i))})}),{action:J(()=>[y(s.$slots,"action",k(P({touched:e(r),validation:e(t),showPassword:e(o),toggleVisibility:p})),()=>[d("button",{class:b(["leading-0 text-muted-400 peer-focus-within:text-primary-500 nui-focus absolute end-0 top-0 flex size-10 items-center justify-center text-center text-xl disabled:cursor-not-allowed",e($)]),type:"button",tabindex:"0",disabled:a.disabled,"data-nui-tooltip":a.disabled?"":`${e(o)?"عدم نمایش":"نمایش"} گذرواژه`,onClick:n[0]||(n[0]=K(()=>p(),["prevent"]))},[d("div",se,[f(m,{name:e(o)?"mdi:eye-outline":"mdi:eye-off-outline",class:"size-5"},null,8,["name"])])],10,te)])]),_:3},16,["model-value","type","disabled","rounded"]),y(s.$slots,"default",k(P({touched:e(r),validation:e(t),showPassword:e(o),toggleVisibility:p})),()=>[d("div",ae,[(l(),u(A,null,E(5,i=>d("div",{key:i,class:"px-1"},[d("div",{class:b(["h-1.5 rounded-xl transition-colors",e(r)?(e(t)?.score??0)>=i?"bg-success-500":"bg-danger-500":"bg-muted-200 dark:bg-muted-700"])},null,2)])),64))])])])}}});export{ne as _};
