import{s as w}from"./DDJC10qW.js";import{b as N}from"./60F3QETU.js";const f=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],m={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...f,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...f],h2:[["className","sr-only"]],img:[...f,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...f,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...f],table:[...f],ul:[...f,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},u={}.hasOwnProperty;function S(e,t){let n={type:"root",children:[]};const r={schema:t?{...m,...t}:m,stack:[]},o=g(r,e);return o&&(Array.isArray(o)?o.length===1?n=o[0]:n.children=o:n=o),n}function g(e,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return A(e,n);case"doctype":return P(e,n);case"element":return q(e,n);case"root":return O(e,n);case"text":return v(e,n)}}}function A(e,t){if(e.schema.allowComments){const n=typeof t.value=="string"?t.value:"",r=n.indexOf("-->"),c={type:"comment",value:r<0?n:n.slice(0,r)};return h(c,t),c}}function P(e,t){if(e.schema.allowDoctypes){const n={type:"doctype"};return h(n,t),n}}function q(e,t){const n=typeof t.tagName=="string"?t.tagName:"";e.stack.push(n);const r=x(e,t.children),o=D(e,t.properties);e.stack.pop();let c=!1;if(n&&n!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(c=!0,e.schema.ancestors&&u.call(e.schema.ancestors,n))){const p=e.schema.ancestors[n];let i=-1;for(c=!1;++i<p.length;)e.stack.includes(p[i])&&(c=!0)}if(!c)return e.schema.strip&&!e.schema.strip.includes(n)?r:void 0;const s={type:"element",tagName:n,properties:o,children:r};return h(s,t),s}function O(e,t){const r={type:"root",children:x(e,t.children)};return h(r,t),r}function v(e,t){const r={type:"text",value:typeof t.value=="string"?t.value:""};return h(r,t),r}function x(e,t){const n=[];if(Array.isArray(t)){const r=t;let o=-1;for(;++o<r.length;){const c=g(e,r[o]);c&&(Array.isArray(c)?n.push(...c):n.push(c))}}return n}function D(e,t){const n=e.stack[e.stack.length-1],r=e.schema.attributes,o=e.schema.required,c=r&&u.call(r,n)?r[n]:void 0,s=r&&u.call(r,"*")?r["*"]:void 0,p=t&&typeof t=="object"?t:{},i={};let a;for(a in p)if(u.call(p,a)){const l=p[a];let d=b(e,y(c,a),a,l);d==null&&(d=b(e,y(s,a),a,l)),d!=null&&(i[a]=d)}if(o&&u.call(o,n)){const l=o[n];for(a in l)u.call(l,a)&&!u.call(i,a)&&(i[a]=l[a])}return i}function b(e,t,n,r){return t?Array.isArray(r)?L(e,t,n,r):k(e,t,n,r):void 0}function L(e,t,n,r){let o=-1;const c=[];for(;++o<r.length;){const s=k(e,t,n,r[o]);(typeof s=="number"||typeof s=="string")&&c.push(s)}return c}function k(e,t,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&B(e,n,r)){if(typeof t=="object"&&t.length>1){let o=!1,c=0;for(;++c<t.length;){const s=t[c];if(s&&typeof s=="object"&&"flags"in s){if(s.test(String(r))){o=!0;break}}else if(s===r){o=!0;break}}if(!o)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+r:r}}function B(e,t,n){const r=e.schema.protocols&&u.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!r||r.length===0)return!0;const o=String(n),c=o.indexOf(":"),s=o.indexOf("?"),p=o.indexOf("#"),i=o.indexOf("/");if(c<0||i>-1&&c>i||s>-1&&c>s||p>-1&&c>p)return!0;let a=-1;for(;++a<r.length;){const l=r[a];if(c===l.length&&o.slice(0,l.length)===l)return!0}return!1}function h(e,t){const n=N(t);t.data&&(e.data=w(t.data)),n&&(e.position=n)}function y(e,t){let n,r=-1;if(e)for(;++r<e.length;){const o=e[r],c=typeof o=="string"?o:o[0];if(c===t)return o;c==="data*"&&(n=o)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function F(e){return function(t){return S(t,e)}}export{F as default,m as defaultSchema};
